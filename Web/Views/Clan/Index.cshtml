@model IEnumerable<Core.Models.Db.Destiny2Clan>

@{
	ViewData["Title"] = "Список кланов";
}
<div class="main_view">
	<h3>@ViewData["Title"] Нейроматрицы</h3>
	<p>Данные о гильдиях представленых ниже обновляються каждые <span class="font-weight-bold">15 минут.</span></p>


	@*<p>
			<a asp-action="Create">Create New</a>
		</p>*@
	<table width="100%">
		<thead>
			<tr>
				<th>
					<a asp-action="Index" asp-route-sortOrder="@ViewData["NameSortParm"]">@Html.DisplayNameFor(model => model.Name)</a>
				</th>
				<th>
					<a asp-action="Index" asp-route-sortOrder="@ViewData["DateSortParm"]">@Html.DisplayNameFor(model => model.CreateDate)</a>
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Motto)
				</th>
				<th>
					<a asp-action="Index" asp-route-sortOrder="@ViewData["CountSortParm"]">@Html.DisplayNameFor(model => model.MemberCount)</a>
				</th>
				<th></th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model)
			{
				<tr>
					<td>
						<a href="https://www.bungie.net/ru/ClanV2?groupId=@item.Id" target="_blank">@Html.DisplayFor(modelItem => item.Name)</a>
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.CreateDate)
					</td>
					<td>
						@Html.DisplayFor(modelItem => item.Motto)
					</td>
					<td colspan="2">
						<div style="width:auto;float:left; text-align:center; margin-left:10px;">@Html.DisplayFor(modelItem => item.MemberCount) / 100</div>
						<div class="count_total">
							<div class="count_bar" style="width:@item.MemberCount%"></div>
						</div>
						@*@Html.DisplayFor(modelItem => item.MemberCount)/100*@
					</td>
					<td>
						@if (item.Members.Count > 0)
						{
							<a asp-action="Details" asp-route-id="@item.Id">Подробней</a>
						}
					</td>
				</tr>
			}
		</tbody>
	</table>

</div>