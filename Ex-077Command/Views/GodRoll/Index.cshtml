@model WebSite.ViewModels.GodRollViewModel;
@{
	Layout = "_Admin";
	ViewData["Title"] = "DIM God roll constructor";
	var counter = 1;
}

<div class="container my-4">


	<p>
		<strong>
			Detailed documentation and more examples you can find in our <a href="https://mdbootstrap.com/docs/standard/data/tables/"
																	  target="_blank">Table Docs</a>
		</strong>
	</p>

	<hr>

	<div class="table-responsive">
		<table class="table table-dark">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Icon</th>
					<th scope="col">Name</th>
					<th scope="col">Type</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var weapon in Model.Weapons)
				{
					var name = "accordion" + counter;
					var uniqueId = weapon.Name.Replace(" ", "");
					<tr class="accordion-toggle collapsed" id="@name" data-toggle="collapse" data-parent="#@name" href="#@uniqueId">
						<td class="expand-button"></td>
						<td><img src="@weapon.Icon" /></td>
						<td>@weapon.Name</td>
						<td>@weapon.Slot.Name</td>

					</tr>
					<tr class="hide-table-padding">
						<td></td>
						<td colspan="3">
							<div id="@uniqueId" class="collapse in p-3">
								@foreach (var perk in weapon.Perks)
								{
								<div class="row">
									<div class="col-auto"><img src="@perk.Icon" /></div>
									<div class="col-auto">@perk.Name</div>
									<div class="col-auto">@perk.Description</div>
								</div>
								}
							</div>
						</td>
					</tr>
					counter++;
				}
			</tbody>
		</table>
	</div>

</div>


