@using ChartJSCore.Models;
@model GuardianViewModel
@{
	ViewData["Title"] = Model.GuardianInfo.Name;
	Layout = "~/Views/Shared/Layouts/_ClanLayout.cshtml";
	Chart barChart = (Chart)ViewData["LineChart"];
}
<div class="container text-center">
	<div class="card mb-3" style="max-width: 540px;">
		<div class="row no-gutters">
			<div class="col-md-4">
				<img class="card-img" src="@Html.Raw($"http://bungie.net{Model.GuardianInfo.IconPath}")" alt="User avatar" />
			</div>
			<div class="col-md-8">
				<div class="card-body">
					<h5 class="card-title">@Model.GuardianInfo.Name</h5>
					<p class="card-text"><small class="text-muted">Последний раз был в игре: @Model.GuardianInfo.DateLastPlayed</small></p>
					<a asp-controller="Clan" asp-action="OpenProfile" asp-route-type="@Model.GuardianInfo.DestinyMembershipType" asp-route-id="@Model.GuardianInfo.DestinyMembershipId" rel="nofollow" target="_blank" class="btn btn-primary">Открыть профиль</a>
				</div>
			</div>
		</div>
	</div>
	<canvas id="lineChart"></canvas>

	@section Scripts {
		<script src="~/lib/Chart.js/Chart.js"></script>
		<script>
        @Html.Raw(barChart.CreateChartCode("lineChart"));
		</script>
	}
</div>

